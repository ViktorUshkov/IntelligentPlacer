# Intelligent Placer

**Описание программы:**

На вход подаётся фотография, на которой изображены несколько предметов и многоугольник, начерченный черным маркером на белом листе бумаги. Intelligent Placer по данным, поданным на вход, должен определить: можно ли разместить все предметы вместе на фотографии в предоставленном многоугольнике?

*Вход:* фотография с объектами и многоугольником (путь до фотографии в файловой системе)

*Выход:* булево значение True (если входные данные корректны* и предметы помещаются во многоугольник) или False (если входные данные некорректны, или предметы не помещаются во многоугольник)

**данные считаются корректными, если на фото присутствуют и лист бумаги с многоугольником, удовлетворяющим требованиям замкнутости и выпуклости, и хотя бы один предмет из папки items; в ином случае данные считаются некорректными*

**Фотометрические требования:**

•	Формат фотографий - *.jpg

•	Направление камеры – перпендикулярно плоскости, на которой расположены предметы и лист с многоугольником

•	Предметы и их границы не должны сливаться с поверхностью

**Требования к листу, многоугольнику и объектам:** 

•	Формат листа бумаги - A4

•	Многоугольник должен быть замкнутым и выпуклым

•	Многоугольник чертится черным маркером на белом листе бумаги

•	Не разрешается использование объектов, не указанных в папке items

•	Один объект не может присутствовать на фотографии более одного раза

•	Лист бумаги с многоугольником и объекты целиком помещаются на фотографии

•	Объекты на фотографии не пересекаются друг с другом и не пересекаются с листом бумаги и с многоугольником


**Фотографии предметов и поверхности**

[предметы и поверхность](https://github.com/ViktorUshkov/IntelligentPlacer/tree/develop/items)

**Примеры входных фотографий**

[размеченные примеры](https://github.com/ViktorUshkov/IntelligentPlacer/blob/develop/MarkedUpDataTests.md)

**План:**

1) *Обнаружение многоугольника:* постараемся отыскать границы листа бумаги и, в случае успеха, находим контур внутри найденного контура листа – это должен быть наш многоугольник (для этого используем детектор canny)
2) *Обнаружение предметов:* используя знание, что единственный контур внутри контура листа должен быть многоугольником, находим контуры предметов: они лежат вне листа (так же используем детектор canny). После этого сравниваем найденные контуры с предметами из тренировочного набора – для этого предварительно обрабатываем фотографии из папки /items, находим особые точки для каждого айтема и сравниваем уже с помощью этих точек
3) *Определение реальных размеров предметов на фотографии:* определяем с помощью размеров листа бумаги, которые регламентированы и известны (А4)
4) *Упаковка предметов во многоугольник:* укладываем предметы начиная с самого большого, заканчивая самым маленьким. При этом пытаемся расположить предмет разумным образом; т. е. так, чтобы соприкосновение границ предмета и многоугольника было как можно большим (пример приведен на рисунке ниже: черным обозначен многоугольник, красным – предмет, укладываемый во многоугольник). Если для какого-то из предметов место уже не находится – выводим False, если упаковка прошла успешно для всех предметов – выводим True


*пример разумного укладывания предметов во многоугольник*
![example](https://user-images.githubusercontent.com/63870567/193135669-f9ae55d1-435d-4fa9-9a48-08b6b547c580.png)



